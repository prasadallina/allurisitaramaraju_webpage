<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>SP Office Organization Chart - {{ district.name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ========================================= */
        /* === Organization Layout Styles (NEW) === */
        /* ========================================= */

        /* ‡∞ï‡±ä‡∞§‡±ç‡∞§ Flex ‡∞ï‡∞Ç‡∞ü‡±à‡∞®‡∞∞‡±ç - ‡∞á‡∞¶‡∞ø 3 ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å 2 ‡∞≤‡±á‡∞Ö‡∞µ‡±Å‡∞ü‡±ç‚Äå‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞µ‡∞π‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø */
        .organization-wrapper {
            display: flex;
            flex-wrap: wrap; /* ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞≤‡±à‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞µ‡±Ü‡∞≥‡±ç‡∞≥‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
            gap: 20px; /* ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤ ‡∞Æ‡∞ß‡±ç‡∞Ø ‡∞¶‡±Ç‡∞∞‡∞Ç */
            padding: 20px; /* ‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç ‡∞∏‡±Ü‡∞ï‡±ç‡∞∑‡∞®‡±ç‚Äå‡∞ï‡±Å ‡∞™‡±ç‡∞Ø‡∞æ‡∞°‡∞ø‡∞Ç‡∞ó‡±ç */
            max-width: 1200px; /* ‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞∏‡±ç‡∞ï‡±ç‡∞∞‡±Ä‡∞®‡±ç ‡∞™‡∞∞‡∞ø‡∞Æ‡∞ø‡∞§‡∞ø */
            margin: 0 auto 30px auto; /* ‡∞Æ‡∞ß‡±ç‡∞Ø‡∞≤‡±ã ‡∞â‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
        }

        .org-section {
            /* ‡∞™‡∞æ‡∞§ max-width ‡∞§‡±Ä‡∞∏‡∞ø‡∞µ‡±á‡∞Ø‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø, Flexbox ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞∏‡±à‡∞ú‡±Å ‡∞®‡∞ø‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø */
            background: linear-gradient(120deg, #eaf6ff 70%, #f8fbff 100%);
            border-radius: 14px;
            box-shadow: 0 2px 12px #b3c6e033;
            margin-bottom: 0; /* wrapper ‡∞≤‡±ã gap ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Ç ‡∞ï‡∞æ‡∞¨‡∞ü‡±ç‡∞ü‡∞ø 0 ‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø */
            padding: 18px 24px 10px 24px;
            border: 1.5px solid #b3d1ff;
            transition: box-shadow 0.2s;
            
            /* ‡∞™‡±Ü‡∞¶‡±ç‡∞¶ ‡∞∏‡±ç‡∞ï‡±ç‡∞∞‡±Ä‡∞®‡±ç‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç: 3 ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞í‡∞ï‡±á ‡∞≤‡±à‡∞®‡±ç‚Äå‡∞≤‡±ã ‡∞∞‡∞æ‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
            flex-grow: 1; /* ‡∞∏‡±ç‡∞•‡∞≤‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞Ü‡∞ï‡±ç‡∞∞‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
            flex-shrink: 0;
            flex-basis: calc(33.33% - 14px); /* (100% / 3) - gapAdjustment */
        }
        
        .org-section:nth-child(n+4) {
             /* 4‡∞µ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å 5‡∞µ ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç: 2 ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞í‡∞ï‡±á ‡∞≤‡±à‡∞®‡±ç‚Äå‡∞≤‡±ã ‡∞∞‡∞æ‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
            flex-basis: calc(50% - 10px); /* (100% / 2) - gapAdjustment */
        }
        
        /* ‡∞ö‡∞ø‡∞®‡±ç‡∞® ‡∞∏‡±ç‡∞ï‡±ç‡∞∞‡±Ä‡∞®‡±ç‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç (‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç) - 900px ‡∞ï‡∞Ç‡∞ü‡±á ‡∞§‡∞ï‡±ç‡∞ï‡±Å‡∞µ */
        @media (max-width: 900px) {
            .organization-wrapper {
                flex-direction: column; /* ‡∞í‡∞ï‡∞¶‡∞æ‡∞®‡∞ø ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞í‡∞ï‡∞ü‡∞ø ‡∞∞‡∞æ‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø */
                padding: 15px;
                gap: 15px;
            }
            .org-section {
                max-width: 100%;
                /* flex-basis: auto; ‡∞®‡±Å ‡∞∏‡±Ü‡∞ü‡±ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞í‡∞ï‡∞¶‡∞æ‡∞®‡∞ø ‡∞ï‡∞ø‡∞Ç‡∞¶ ‡∞í‡∞ï‡∞ü‡∞ø ‡∞µ‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø */
                flex-basis: auto; 
            }
            .org-section:nth-child(n+4) {
                 flex-basis: auto; /* 4th ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å 5th ‡∞¨‡∞æ‡∞ï‡±ç‡∞∏‡±Å‡∞≤‡∞ï‡±Å ‡∞ï‡±Ç‡∞°‡∞æ */
            }
        }
        
        /* ‡∞Æ‡∞ø‡∞ó‡∞§‡∞æ styles ‡∞Ö‡∞≤‡∞æ‡∞ó‡±á ‡∞â‡∞Ç‡∞ö‡∞¨‡∞°‡±ç‡∞°‡∞æ‡∞Ø‡∞ø */
        .org-section:hover {
            box-shadow: 0 6px 24px #7bb1fa33;
        }
        h2 {
            font-size: 20px;
            color: #1565c0;
            margin-top: 0;
            margin-bottom: 10px;
            letter-spacing: 1px;
            text-align: center;
            text-shadow: 0 2px 8px #b3c6e022;
        }
        ul {
            margin-left: 0;
            padding-left: 18px;
            line-height: 1.7;
        }
        li {
            margin-bottom: 4px;
            font-size: 15px;
            color: #1a237e;
            font-weight: 600;
            border-radius: 6px;
            padding: 2px 8px;
            transition: 0.2s;
        }
        li:hover {
            background: #e3f2fd;
            color: #0d47a1;
        }
        li > ul > li {
            font-size: 15px; /* 20px ‡∞®‡±Å‡∞Ç‡∞°‡∞ø 15px ‡∞ï‡∞ø ‡∞Æ‡∞æ‡∞∞‡±ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø, ‡∞á‡∞¶‡∞ø ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞™‡±Ü‡∞¶‡±ç‡∞¶‡∞¶‡∞ø‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø */
            color: #333;
            font-weight: 400;
            background: #f8fbff;
            margin-bottom: 2px;
            border-radius: 4px;
            padding: 1px 8px;
        }
        li > ul > li:hover {
            background: #eaf6ff;
            color: #1976d2;
        }
        .org-header {
            text-align: center;
            margin-bottom: 32px;
        }
        .org-header h1 {
            font-size: 2.1rem;
            color: #1565c0;
            font-weight: 800;
            letter-spacing: 1.5px;
            text-shadow: 0 2px 12px #b3c6e022;
            margin: 0;
        }
    </style>
</head>
<body>

    <header class="site-header">
        <div class="logo-section">
            <img src="{{ district.logo }}" alt="AP Police Logo">
        </div>
        <div class="title-section">
            <h1 class="highlight-title">{{ district.name }}</h1>
        </div>
        <div class="logo-section">
            <img src="{{ district.emblem }}" alt="District Emblem">
        </div>
    </header>
    
    <nav class="navbar">
        <button class="menu-toggle"><i class="fas fa-bars"></i></button>
        <ul id="nav-links">
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="{{ url_for('about') }}">About Us</a></li>
            <li><a href="{{ url_for('organization') }}">Organization</a></li>
            <li><a href="{{ url_for('officers') }}">Officers</a></li>
            <li><a href="{{ url_for('policestation') }}">Police Stations</a></li>
            <li><a href="{{ url_for('contact') }}">Contact</a></li>
            <li><a href="{{ url_for('wings') }}">Wings</a></li>
            <li><a href="{{ url_for('services') }}">Services</a></li>
        </ul>
    </nav>
    
    <div class="organization-wrapper">
    {% for section in organization %}
        <div class="org-section">
            <h2>{{ section.title }}</h2>
            <ul>
                {% for member in section.members %}
                    {% if member.subordinates %}
                        <li>{{ member.name }}
                            <ul>
                                {% for sub in member.subordinates %}
                                    <li>{{ sub }}</li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% else %}
                        <li>{{ member }}</li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    {% endfor %}
    </div>

    <script>
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('.navbar').classList.toggle('active');
        });
    </script>

    <footer class="site-footer">
        <p>üìç District Police Headquarters, {{ district.name }}</p>
        <p>üìû Emergency: 100 | Email: sp.asr123@gmail.com</p>
        <p>&copy; 2025 {{ district.name }}</p>
    </footer>

</body>
</html>